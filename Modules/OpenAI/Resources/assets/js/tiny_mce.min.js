"use strict";

tinymce.init({
    selector: "textarea#basic-example",
    statusbar: false,
    menubar: false,
    promotion: false,
    contextmenu: false,
    content_style: "body{color:#A52A8CFF}",  // Set text color
    toolbar: false,
    plugins: [
        "advlist",
        "autolink",
        "lists",
        "link",
        "image",
        "charmap",
        "preview",
        "anchor",
        "searchreplace",
        "visualblocks",
        "code",
        "fullscreen",
        "insertdatetime",
        "media",
        "table",
        "code markdown"
    ],
    toolbar: "bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | undo redo | blocks forecolor | removeformat | ",
    content_css: "../../Modules/OpenAI/Resources/assets/css/rtl.min.css",

    init_instance_callback: function (editor) {
        var lang = document.documentElement.getAttribute("lang");


        function applyTextAlignmentBasedOnLanguage() {
            if (lang === "ar") {
                editor.setContent(`<p class="rtl-text">${editor.getContent()}</p>`);
            } else {
                editor.setContent(editor.getContent().replace(/<div class="rtl-text">|<\/div>/g, ""));
            }
        }


        // function makeBoldWords(content) {
        //     return content.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
        // }


        // function autoBoldContent() {
        //     let content = editor.getContent();
        //     let updatedContent = makeBoldWords(content);


        //     if (content !== updatedContent) {
        //         editor.setContent(updatedContent);
        //         editor.selection.select(editor.getBody(), true);
        //         editor.selection.collapse(false);
        //     }
        // }


        // editor.on('init', function () {
        //     autoBoldContent();
        // });



        applyTextAlignmentBasedOnLanguage();
    },
    formats: {
        bold: { inline: 'strong' }
    },


    convert_fonts_to_spans: true
});
